{% extends "moodpoll/base.html" %}
{% load static %}

{% block title %}Result:{{c.poll.title}}{% endblock %}
{% block content %}

<div class="brick_form">


{% if c.msg %}
{{c.msg}}
<hr class="hr_style_gradient opacity30">
{% endif %}

Result for:
{% include "moodpoll/part_title_and_description.html" %}


{% for option in c.option_list %}

    <div class="row">
      <div class="col-75">
        {{option.content}}
      </div>
      <div class="col-25">
        <img src="{% static 'moodpoll/img/symb_neg.svg' %}" style="height:0.8em;"> {{option.resistances.0}}.{{option.resistances.1}}|
        <img src="{% static 'moodpoll/img/symb_neu.svg' %}" style="height:0.8em;"> {{option.neutrals.0}}.{{option.neutrals.1}}|
        <img src="{% static 'moodpoll/img/symb_pos.svg' %}" style="height:0.8em;"> {{option.approvals.0}}.{{option.approvals.1}}
      </div>
    </div>

{%endfor%}

<hr class="hr_style_gradient opacity30">

{% if c.debug_flag %}
<hr class="hr_style_gradient opacity30">
debug:
<br>key_tuples: {{c.key_tuples}}
<br>sorted_index_list: {{c.sorted_index_list}}
<br>mood_values: {{c.mood_values}}
<br>neg_res: {{c.neg_res}}
<br>pos_res: {{c.pos_res}}
<hr class="hr_style_gradient opacity30">
{% endif %}

<details> <summary class="folding_box_heading"><b>Explanation</b>: What do the results mean?</summary>
<div>
    <p>The voting result for each option is composed by three numbers in the form <i>A.B</i>,
        where <i>A</i> is the integer part and <i>B</i> ist the fractional part.
        The three numbers represent negative votes, neutral votes and positive votes, respectively.
        The integer part (<i>A</i>) is the number of votes. The fractional part <i>B</i> is the
        average strength of the vote on a scale between 1 and 9.
        <br>
        <br>
        <b>Examples:</b>
        <img src="{% static 'moodpoll/img/symb_neg.svg' %}" style="height:0.8em;"> 5.1 means five people voted
        negative but (almost) all chose the weakest option (i.e. -1).
        <img src="{% static 'moodpoll/img/symb_pos.svg' %}" style="height:0.8em;"> 3.9 means three people voted
        positive and all of them with the strongest option (i.e. +2).<img src="{% static 'moodpoll/img/symb_pos.svg' %}" style="height:0.8em;"> 3.4 means: two  +1 votes and one +2 vote, which averages somewhere in the middle between 1 and 9.

        <br>
        <br>
        Because there is no "strength" of neutral votes the fractional part <i>B</i> for them is always zero.
        <br>
        <br>
        <b>Sorting:</b>
        The results are sorted w.r.t. multiple criteria. If they are equal in the first criterium, then the second
        one is compared etc. The criteria are: 1. Least absolute resistance-votes, 2. Least people with resistance,
        3. Most absolute acceptance votes, 4. Most people with acceptance

    </p>
</div>
</details>

<hr class="hr_style_gradient opacity30">

    <b>The following users participated up to now:</b>


    <div class="row">
      <div class="col-75">
        <i>Name</i>
      </div>
      <div class="col-25">
        <i>last modified (UTC)</i>
      </div>
    </div>

    {% for uva in c.user_voting_acts %}

    <div class="row">
      <div class="col-75">
        {{uva.0}}
      </div>
      <div class="col-25">
        {{uva.1}}
      </div>
    </div>

{%endfor%}

<hr class="hr_style_gradient opacity30">
Go back to poll: <a href="{{c.poll_url}}">{{c.poll_url}}</a>

</div> <!-- End of brick_form -->


<!--Type: {{pagetype}}-->
{% endblock %}

